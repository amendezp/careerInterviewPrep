<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LLM Interview Prep Quiz</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <header>
    <h1>LLM/GenAI Interview Prep</h1>
    <p class="subtitle">AI-powered quiz prep for LLM & GenAI concepts â€” by Alfredo Mendez (amendezp@stanford.edu)</p>
  </header>

  <main>
    <!-- Controls -->
    <section id="controls">
      <div id="topic-bar">
        <button class="topic-btn active" data-topic="all">All Topics</button>
      </div>
      <div id="options-bar">
        <select id="format-select">
          <option value="random">Random Format</option>
          <option value="multiple_choice">Multiple Choice</option>
          <option value="open_ended">Open Ended</option>
          <option value="scenario">Scenario</option>
          <option value="concept_check">Concept Check</option>
        </select>
        <select id="difficulty-select">
          <option value="random" selected>Random</option>
          <option value="beginner">Beginner</option>
          <option value="intermediate">Intermediate</option>
          <option value="advanced">Advanced</option>
        </select>
        <button id="new-question-btn">New Question</button>
      </div>
    </section>

    <!-- Question Area -->
    <section id="question-area" class="hidden">
      <div id="question-meta">
        <span id="question-topic" class="badge"></span>
        <span id="question-type" class="badge"></span>
        <span id="question-difficulty" class="badge"></span>
      </div>
      <div id="question-text"></div>

      <!-- MC Options -->
      <div id="mc-options" class="hidden">
        <button class="mc-btn" data-option="A"><span class="mc-letter">A</span> <span class="mc-text"></span></button>
        <button class="mc-btn" data-option="B"><span class="mc-letter">B</span> <span class="mc-text"></span></button>
        <button class="mc-btn" data-option="C"><span class="mc-letter">C</span> <span class="mc-text"></span></button>
        <button class="mc-btn" data-option="D"><span class="mc-letter">D</span> <span class="mc-text"></span></button>
      </div>

      <!-- Open-ended / Scenario text input -->
      <div id="text-answer" class="hidden">
        <textarea id="answer-input" rows="5" placeholder="Type your answer here..."></textarea>
        <div id="voice-controls" class="hidden">
          <button id="mic-btn" type="button">Mic</button>
          <span id="mic-status"></span>
        </div>
      </div>

      <button id="submit-btn" class="hidden">Submit Answer</button>
      <div id="eval-loading" class="hidden">
        <div class="spinner"></div>
        <p>Evaluating your answer...</p>
      </div>
    </section>

    <!-- Loading -->
    <section id="loading" class="hidden">
      <div class="spinner"></div>
      <p>Generating question...</p>
    </section>

    <!-- Feedback Area -->
    <section id="feedback-area" class="hidden">
      <div id="feedback-header">
        <span id="feedback-icon"></span>
        <span id="feedback-label"></span>
        <span id="feedback-score"></span>
      </div>
      <div id="feedback-columns">
        <div id="feedback-strengths" class="feedback-col">
          <div class="feedback-col-icon">&#10003;</div>
          <h4>What You Got Right</h4>
          <ul id="strengths-list"></ul>
        </div>
        <div id="feedback-gaps" class="feedback-col">
          <div class="feedback-col-icon">&#10060;</div>
          <h4>What Was Missing</h4>
          <ul id="gaps-list"></ul>
        </div>
      </div>
      <div id="feedback-explanation">
        <h4>Full Explanation</h4>
        <p id="explanation-text"></p>
      </div>
      <div id="feedback-tip">
        <h4>Study Tip</h4>
        <p id="tip-text"></p>
      </div>

      <div id="feedback-architecture" class="scenario-section hidden">
        <h4>Architecture Diagram</h4>
        <pre id="architecture-diagram"></pre>
      </div>

      <div id="feedback-reasoning" class="scenario-section hidden">
        <h4>How to Think Through It</h4>
        <ol id="reasoning-list"></ol>
      </div>

      <div id="feedback-implications" class="scenario-section hidden">
        <h4>Architectural Implications</h4>
        <div id="implications-grid">
          <div class="implication-col">
            <h5>Design Doc Points</h5>
            <ul id="design-doc-list"></ul>
          </div>
          <div class="implication-col">
            <h5>Scaling Considerations</h5>
            <ul id="scaling-list"></ul>
          </div>
          <div class="implication-col">
            <h5>Operational Concerns</h5>
            <ul id="ops-list"></ul>
          </div>
        </div>
      </div>

      <button id="next-btn">Next Question</button>
    </section>

    <!-- Progress Dashboard -->
    <section id="progress">
      <h3>Progress</h3>
      <div id="progress-grid"></div>
      <div id="progress-summary"></div>

      <!-- Topic Recommendations -->
      <section id="recommendations" class="hidden">
        <h4 id="recommendations-title">Focus Areas</h4>
        <p id="recommendations-subtitle"></p>
        <div id="recommendations-list"></div>
        <button id="deep-analysis-btn">Get Study Advice from Claude</button>
        <div id="deep-analysis-result" class="hidden"></div>
      </section>

      <button id="reset-btn">Reset Progress</button>
    </section>

    <!-- Empty State -->
    <section id="empty-state">
      <p>Select a topic and click <strong>New Question</strong> to start studying.</p>
    </section>

    <!-- Q&A Section -->
    <section id="qa-section">
      <button id="qa-toggle">Ask a Question <span id="qa-arrow">&#9654;</span></button>
      <div id="qa-body" class="hidden">
        <p class="qa-description">Ask any LLM/GenAI question. Your answer will be verified against external sources before being returned.</p>
        <div id="qa-input-row">
          <textarea id="qa-input" rows="3" placeholder="e.g. When does it make sense to use RAG over fine-tuning?"></textarea>
          <button id="qa-submit-btn">Ask</button>
        </div>
        <div id="qa-loading" class="hidden">
          <div class="spinner"></div>
          <p>Researching and verifying...</p>
        </div>
        <div id="qa-result" class="hidden">
          <div id="qa-answer"></div>
          <div id="qa-verification" class="hidden"></div>
          <div id="qa-sources" class="hidden">
            <h4>Sources</h4>
            <ul id="qa-sources-list"></ul>
          </div>
        </div>
        <div id="qa-error" class="hidden"></div>
      </div>
    </section>
  </main>

  <script src="/app.js"></script>
</body>
</html>
